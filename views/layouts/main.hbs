<html lang='en'>

<head>
	<meta charset='UTF-8' />
	<meta http-equiv='X-UA-Compatible' content='IE=edge' />
	<meta name='viewport' content='width=device-width, initial-scale=1.0' />
	<title>Restaurant List</title>
	<link rel='preconnect' href='https://fonts.googleapis.com' />
	<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin />
	<link
		href='https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Roboto:wght@400;700&display=swap'
		rel='stylesheet' />
	<link href='https://bootswatch.com/5/minty/bootstrap.min.css' rel='stylesheet' />
	<link rel='stylesheet' href='/stylesheets/style.css' />
</head>

<body>
	<header>
		{{! navigation }}
		<nav class='navbar navbar-light bg-light'>
			<div class='container'>
				<a class='navbar-brand' href='/'>
					<img src='https://assets-lighthouse.s3.amazonaws.com/uploads/image/file/6227/restaurant-list-logo.png'
						width='30' height='30' class='d-inline-block align-top' alt='我的餐廳清單' />
					{{#if isAuthenticated}}
					{{#if user.name.length}}
					{{user.name}}的
					{{/if}}
					{{/if}}
					餐廳清單
				</a>
				<div class='text-end'>
					{{#if isAuthenticated}}
					<a href="/restaurants/new" class="btn btn-primary me-3">新增餐廳</a>
					<a href="/users/logout" class="btn btn-outline-secondary">Logout</a>
					{{else}}
					<a href="/users/login" class="btn btn-outline-secondary">Login</a>
					{{/if}}
				</div>
			</div>
		</nav>

		<div class='banner'></div>
	</header>

	{{! partial template }}
	{{{body}}}

	{{!-- modal --}}
	<div class="modal" id="deleteModal">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">確認刪除</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
						<span aria-hidden="true"></span>
					</button>
				</div>
				<div class="modal-body">
					<p>確定要刪除嗎?</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" id="deleteBtn">刪除</button>
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<script>
		const deleteBtn = document.querySelector('#deleteBtn')
		const deleteForm = document.querySelector('#delete-form')
		deleteBtn.addEventListener('click', function () {
			deleteForm.submit()
		})
	</script>

	<script src='https://kit.fontawesome.com/45f8711e96.js' crossorigin='anonymous'></script>
	<script src='https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.1/dist/umd/popper.min.js'
		integrity='sha384-W8fXfP3gkOKtndU4JGtKDvXbO53Wy8SZCQHczT5FMiiqmQfUpWbYdTil/SxwZgAN'
		crossorigin='anonymous'></script>
	<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.min.js'
		integrity='sha384-skAcpIdS7UcVUC05LJ9Dxay8AXcDYfBJqt1CJ85S/CFujBsIzCIv+l9liuYLaMQ/'
		crossorigin='anonymous'></script>
	<script src='/javascripts/index.js'></script>
</body>

</html>